<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>demo5</title>
    <script src="../react/react.min.js"></script>
    <script src="../react/react-dom.min.js"></script>
    <script src="../browser.min.js"></script>
</head>
<body>
<div id="mount"></div>
<script type="text/babel">
    var MyForm = React.createClass({
        getInitialState: function () {
            return {options: ['B']}
        },
        handleSubmit: function (event) {
            event.preventDefault();
            alert(this.state.options);
        },
        handleChange: function (event) {
            var checked = [];
            var sel = event.target;
            for (var i = 0; i < sel.length; i++) {
                var option = sel.options[i];
                if(option.selected) {
                    checked.push(option.value);
                }
            }
            this.setState({options: checked});
        },
        render: function () {
            return (
                <form onSubmit={this.handleSubmit}>
                    <select multiple="true" value={this.state.options} onChange={this.handleChange}>
                        <option value="A">First Option</option>
                        <option value="B">Second Opiton</option>
                        <option value="C">Third Option</option>
                    </select>
                    <br />
                    <button type="sumbit">Speak</button>
                </form>
            );
        }
    });

    ReactDOM.render(
            <MyForm />,
            document.getElementById('mount')
    );
</script>
</body>
</html>